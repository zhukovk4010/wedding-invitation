<section class="section">
  <h2 class="h1 section__title">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É</h2>

  @if (numberOfPerson() === 1) {
    <form [formGroup]="formOnePerson" (ngSubmit)="onSubmitOnePerson()" class="form">
      <span class="form__name">{{ firstPerson() }}</span>
      <div>
        <span>–°–º–æ–∂–µ—à—å –ø—Ä–∏–µ—Ö–∞—Ç—å?</span>
      </div>

      <div class="form__buttons-wrapper">
        <button type="button" (click)="onConfirmation1()">–î–∞</button>
        <button type="button" (click)="onRefusal1()">–ù–µ—Ç, –Ω–µ —Å–º–æ–≥—É</button>
      </div>

      @if (alcoholSelector1IsVisible()) {
        <div class="select-wrapper">
          <label for="select1">–ö–∞–∫–æ–π –∞–ª–∫–æ–≥–æ–ª—å –ø—Ä–µ–¥–ø–æ—á–∏–∞–µ—Ç–µ?</label>
          <select id="select1" formControlName="alcohol" class="select">
            @for (option of options; track option) {
              <option [value]="option">{{ option }}</option>
            }
          </select>
        </div>
      }

      @if (notWillBe1()) {
        <div style="margin-top: 0.5rem">–û—á–µ–Ω—å –∂–∞–ª—å ü•∫</div>
      }

      @if (isErrorResponse()) {
        <div style="color: red; text-align: center; margin-top: 1rem">–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ</div>
      }

      <div style="display: flex; justify-content: center">
        <button type="submit" class="form__button-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </div>

      @if (isSuccessResponse()) {
        <div style="text-align: center; margin-top: 1rem">‚úÖ –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!</div>
      }
    </form>
  }

  @if (numberOfPerson() === 2) {
    <form [formGroup]="formTwoPerson" (ngSubmit)="onSubmitTwoPerson()" class="form">
      <span class="form__name">{{ firstPerson() }}</span>
      <div style="margin-top: 0.5rem">
        <span>–°–º–æ–∂–µ—à—å –ø—Ä–∏–µ—Ö–∞—Ç—å?</span>
      </div>

      <div class="form__buttons-wrapper">
        <button type="button" (click)="onConfirmation1()">–î–∞</button>
        <button type="button" (click)="onRefusal1()">–ù–µ—Ç, –Ω–µ —Å–º–æ–≥—É</button>
      </div>

      @if (alcoholSelector1IsVisible()) {
        <div class="select-wrapper">
          <label for="select">–ö–∞–∫–æ–π –∞–ª–∫–æ–≥–æ–ª—å –ø—Ä–µ–¥–ø–æ—á–∏–∞–µ—Ç–µ?</label>
          <select id="select" formControlName="alcohol" class="select">
            @for (option of options; track option) {
              <option [value]="option">{{ option }}</option>
            }
          </select>
        </div>
      }

      @if (notWillBe1()) {
        <div style="margin-top: 0.5rem">–û—á–µ–Ω—å –∂–∞–ª—å ü•∫</div>
      }


      <span style="display: block; margin-top: 1.5rem" class="form__name">{{ secondPerson() }}</span>
      <div style="margin-top: 0.5rem">
        <span>–°–º–æ–∂–µ—à—å –ø—Ä–∏–µ—Ö–∞—Ç—å?</span>
      </div>

      <div class="form__buttons-wrapper">
        <button type="button" (click)="onConfirmation2()">–î–∞</button>
        <button type="button" (click)="onRefusal2()">–ù–µ—Ç, –Ω–µ —Å–º–æ–≥—É</button>
      </div>

      @if (alcoholSelector2IsVisible()) {
        <div class="select-wrapper">
          <label for="select2">–ö–∞–∫–æ–π –∞–ª–∫–æ–≥–æ–ª—å –ø—Ä–µ–¥–ø–æ—á–∏–∞–µ—Ç–µ?</label>
          <select id="select2" formControlName="secondAlcohol" class="select">
            @for (option of options; track option) {
              <option [value]="option">{{ option }}</option>
            }
          </select>
        </div>
      }

      @if (notWillBe2()) {
        <div style="margin-top: 0.5rem">–û—á–µ–Ω—å –∂–∞–ª—å ü•∫</div>
      }

      @if (isErrorResponse()) {
        <div style="color: red; text-align: center; margin-top: 1rem">–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ</div>
      }

      <div style="display: flex; justify-content: center">
        <button type="submit" class="form__button-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </div>

      @if (isSuccessResponse()) {
        <div style="text-align: center; margin-top: 1rem">‚úÖ –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!</div>
      }
    </form>
  }

  @if (canViewTelegram()) {
    <div class="tg-link">
      <span>–ó–∞—Ö–æ–¥–∏—Ç–µ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º —á–∞—Ç</span>
      <a href="https://t.me/+6V7pLK13WBJjOTRi" target="_blank">–¢–µ–ª–µ–≥—Ä–∞–º —á–∞—Ç</a>
    </div>
  }
</section>
